<!DOCTYPE html>
<html>

<head>
    <title>Pong Game</title>
    <link href="./style.css" rel="stylesheet">
</head>

<body>
    <canvas id="canv"></canvas>


    <script type="module">
        "use strict"
        import { getCanvas, ease, bounce } from "./engine/scripts.js"
        import Time from "./engine/Time.js"
        import Input from "./engine/Input.js"

        import RectangleGameObject from "./pong_game/RectangleGameObject.js";
        import ScoreGameObject from "./pong_game/ScoreGameObject.js";
        import BallGameObject from "./pong_game/BallGameObject.js"

        Input.attach(document);

        let { canvas, ctx } = getCanvas();

        let gameObjects = []

        //Add the walls
        gameObjects.push(new RectangleGameObject(10, 10, 100, 10));
        gameObjects.push(new RectangleGameObject(10, 10, 10, 100));
        gameObjects.push(new RectangleGameObject(10, 100, 100, 10));
        gameObjects.push(new RectangleGameObject(110, 10, 10, 100));

        //Add the text
        gameObjects.push(new ScoreGameObject(10, 10, "10pt Arial"));

        //Add the ball
        gameObjects.push(new BallGameObject(200, 200, 50))

        function tick() {
            Input.update();
            update()
            draw()
            Time.timePassed += Time.secondsBetweenFrame;
        }

        function update() {
            for (let gameObject of gameObjects) {
                gameObject.update();
            }
        }

        function draw() {

            ctx.fillStyle = "black"
            ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            for (let gameObject of gameObjects) {
                gameObject.draw(ctx);
            }
        }

        setInterval(tick, Time.millisecondsBetweenFrames)

    </script>
</body>

</html>